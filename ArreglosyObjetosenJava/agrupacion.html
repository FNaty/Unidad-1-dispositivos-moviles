<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agrupacion por propiedad</title>
    <link rel="stylesheet" href="../Ejercicios.css">
</head>
<body>
    <h1>Agrupacion por Propiedad</h1>
    <br>
    <li><a href="../arreglosyobjetos.html">Volver a arreglos y objetos</a></li>
    <li><a href="../index.html">Volver a la pagina de inicio</a></li>
    <h2>Productos</h2>
    <ul id="lista-productos"></ul>

    <h2>Productos agrupados por categoría</h2>
    <div id="agrupados"></div>

    <script>
        function agruparPorCategoria(arr){
            return arr.reduce((grupo, producto) =>{
                const categoria = producto.categoria;
                if(!grupo[categoria]){
                    grupo[categoria] = [];
                }
                grupo[categoria].push(producto);
                return grupo;
            },{});
        }

        // Ejemplo de productos
        const productos = [
            { nombre: "Manzana", categoria: "Fruta" },
            { nombre: "Lechuga", categoria: "Verdura" },
            { nombre: "Plátano", categoria: "Fruta" },
            { nombre: "Zanahoria", categoria: "Verdura" },
            { nombre: "Leche", categoria: "Lácteo" }
        ];

        // Mostrar productos originales
        const lista = document.getElementById('lista-productos');
        productos.forEach(p => {
            const li = document.createElement('li');
            li.textContent = `${p.nombre} (${p.categoria})`;
            lista.appendChild(li);
        });

        // Agrupar y mostrar
        const agrupados = agruparPorCategoria(productos);
        const divAgrupados = document.getElementById('agrupados');
        for (const categoria in agrupados) {
            const h3 = document.createElement('h3');
            h3.textContent = categoria;
            divAgrupados.appendChild(h3);

            const ul = document.createElement('ul');
            agrupados[categoria].forEach(producto => {
                const li = document.createElement('li');
                li.textContent = producto.nombre;
                ul.appendChild(li);
            });
            divAgrupados.appendChild(ul);
        }
    </script>
</body>
</html>